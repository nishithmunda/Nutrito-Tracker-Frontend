{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Parikshith V\\\\Desktop\\\\Nutrito\\\\frontend\\\\src\\\\nutrito.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { Button, Segment, Form, Container } from 'semantic-ui-react';\nimport { Redirect } from 'react-router-dom';\nimport \"./App.css\"; //import {Pie, Doughnut} from 'react-chartjs-2';\n\nimport MyResponsivePie from './components/Cha';\nexport default class LogIn extends Component {\n  constructor(props) {\n    super(props);\n    const token = localStorage.getItem(\"token\");\n    let loggedIn = true;\n\n    if (token == null) {\n      loggedIn = false;\n    }\n\n    this.onChangeP = this.onChangeP.bind(this);\n    this.onChangeC = this.onChangeC.bind(this);\n    this.onChangeF = this.onChangeF.bind(this); // this.onChangeCalories = this.onChangeCalories.bind(this);\n\n    this.onCalculate = this.onCalculate.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeinName = this.onChangeinName.bind(this);\n    this.onsearchdate = this.onsearchdate.bind(this);\n    var today = new Date(),\n        date = \"0\" + today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();\n    this.state = {\n      protein: '',\n      carbo: '',\n      fat: '',\n      calories: '',\n      calculate: '',\n      loggedIn,\n      inName: '',\n      currentDate: date\n    };\n  }\n\n  onChangeinName(e) {\n    this.setState({\n      inName: e.target.value\n    });\n  }\n\n  onChangeP(e) {\n    this.setState({\n      protein: e.target.value\n    });\n  }\n\n  onChangeC(e) {\n    this.setState({\n      carbo: e.target.value\n    });\n  }\n\n  onChangeF(e) {\n    this.setState({\n      fat: e.target.value\n    });\n  }\n\n  onsearchdate() {\n    window.location.href = \"/pakshi\";\n  }\n\n  onCalculate() {\n    var protein = parseInt(document.getElementById(\"protein\").value);\n    var carbo = parseInt(document.getElementById(\"carbo\").value);\n    var fat = parseInt(document.getElementById(\"fat\").value);\n    var cal_p = protein * 4;\n    var cal_c = carbo * 4;\n    var cal_f = fat * 9;\n    var calculate = eval(cal_c + cal_p + cal_f);\n    document.getElementById(\"cal\").setAttribute('value', calculate);\n    this.setState({\n      calories: calculate\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const data = {\n      protein: this.state.protein,\n      carbo: this.state.carbo,\n      fat: this.state.fat,\n      calculate: this.state.calories,\n      inName: this.state.inName,\n      currentDate: this.state.currentDate\n    };\n    console.log(data);\n\n    const encodeForm = data => {\n      return Object.keys(data).map(key => encodeURIComponent(key) + '=' + encodeURIComponent(data[key])).join('&');\n    };\n\n    axios.post('http://localhost:8080/save', encodeForm(data), {\n      credentials: 'include'\n    }).then(function (response) {\n      console.log(response);\n\n      if (response.status === 200) {\n        //alert(\"Successfully Login\")\n        swal({\n          title: \"INPUT Successfull!\",\n          text: \"     \",\n          icon: \"success\",\n          timer: 2000,\n          button: false\n        }).then(function () {//window.location.href = \"/mys\"\n          //sessionStorage.setItem('usertoken',response.data)\n        });\n      } else {\n        // alert(\"Password incorrect\")\n        swal({\n          title: \"Input failed\",\n          text: \"Please restart session\",\n          icon: \"error\",\n          timer: 2000,\n          button: false\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n      swal({\n        title: \"Input invalid\",\n        text: \"Please restart session\",\n        icon: \"error\",\n        timer: 2000,\n        button: false\n      });\n    });\n  }\n\n  render() {\n    if (this.state.loggedIn === false) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 16\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Container, {\n      text: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-out-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"ui medium header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 20\n      }\n    }, \"Add new intake data:\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"chart_form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      className: \"form\",\n      method: \"post\",\n      onSubmit: this.onSubmit,\n      action: \"http://localhost:4000/save\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"Intake NickName\",\n      type: \"text\",\n      name: \"inName\",\n      id: \"inName\",\n      value: this.state.inName,\n      onChange: this.onChangeinName,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"DATE\",\n      type: \"text\",\n      type: \"\",\n      id: \"date1\",\n      name: \"\",\n      required: true,\n      value: this.state.currentDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"pcf\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"Protein\",\n      type: \"text\",\n      name: \"protein\",\n      id: \"protein\",\n      value: this.state.protein,\n      onChange: this.onChangeP,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"Carbohydrate\",\n      type: \"text\",\n      name: \"carbohydrate\",\n      id: \"carbo\",\n      value: this.state.carbo,\n      onChange: this.onChangeC,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"Fats\",\n      type: \"text\",\n      name: \"fat\",\n      id: \"fat\",\n      value: this.state.fat,\n      onChange: this.onChangeF,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 24\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"Calorie Intake\",\n      type: \"text\",\n      name: \"calories\",\n      id: \"cal\",\n      value: this.state.calories,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"Search date\",\n      type: \"date\",\n      type: \"\",\n      id: \"dateIn\",\n      name: \"\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      onClick: this.onCalculate,\n      color: \"black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 22\n      }\n    }, \"Calculate\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      onClick: this.onsearchdate,\n      color: \"black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 22\n      }\n    }, \"SEARCH BY DATE\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form_button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 23\n      }\n    }, \"Submit\")))), /*#__PURE__*/React.createElement(Segment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MyResponsivePie, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 25\n      }\n    }))))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Parikshith V/Desktop/Nutrito/frontend/src/nutrito.jsx"],"names":["React","Component","axios","swal","Button","Segment","Form","Container","Redirect","MyResponsivePie","LogIn","constructor","props","token","localStorage","getItem","loggedIn","onChangeP","bind","onChangeC","onChangeF","onCalculate","onSubmit","onChangeinName","onsearchdate","today","Date","date","getDate","getMonth","getFullYear","state","protein","carbo","fat","calories","calculate","inName","currentDate","e","setState","target","value","window","location","href","parseInt","document","getElementById","cal_p","cal_c","cal_f","eval","setAttribute","preventDefault","data","console","log","encodeForm","Object","keys","map","key","encodeURIComponent","join","post","credentials","then","response","status","title","text","icon","timer","button","catch","error","render"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport {Button,Segment,Form,Container } from 'semantic-ui-react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport \"./App.css\";\r\n//import {Pie, Doughnut} from 'react-chartjs-2';\r\nimport  MyResponsivePie from './components/Cha';\r\n\r\nexport default class LogIn extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n       const token=localStorage.getItem(\"token\")\r\n       let loggedIn=true\r\n       if(token==null)\r\n       {\r\n           loggedIn=false\r\n       }\r\n\r\n      this.onChangeP = this.onChangeP.bind(this);\r\n      this.onChangeC = this.onChangeC.bind(this);\r\n      this.onChangeF = this.onChangeF.bind(this);\r\n     // this.onChangeCalories = this.onChangeCalories.bind(this);\r\n      this.onCalculate=this.onCalculate.bind(this);\r\n      this.onSubmit = this.onSubmit.bind(this);\r\n      this.onChangeinName=this.onChangeinName.bind(this);\r\n      this.onsearchdate=this.onsearchdate.bind(this);\r\n\r\n      var today = new Date(),\r\n\r\n      date = \"0\"+today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();\r\n\r\n      this.state = {\r\n\r\n         protein: '',\r\n         carbo: '',\r\n         fat:'',\r\n         calories:'',\r\n         calculate:'',\r\n         loggedIn,\r\n         inName:'',\r\n         currentDate: date\r\n      }\r\n\r\n\r\n    }\r\n\r\n    onChangeinName(e){\r\n      this.setState({\r\n        inName: e.target.value\r\n      })\r\n    }\r\n\r\n    onChangeP(e) {\r\n        this.setState({\r\n          protein: e.target.value\r\n        })\r\n      }\r\n\r\n    onChangeC(e) {\r\n      this.setState({\r\n        carbo: e.target.value\r\n      })\r\n    }\r\n    onChangeF(e) {\r\n      this.setState({\r\n        fat: e.target.value\r\n      })\r\n    }\r\n    onsearchdate(){\r\n      window.location.href = \"/pakshi\"\r\n    }\r\n\r\n    onCalculate(){\r\n        var protein = parseInt(document.getElementById(\"protein\").value);\r\n        var carbo = parseInt(document.getElementById(\"carbo\").value);\r\n        var fat = parseInt(document.getElementById(\"fat\").value);\r\n        var cal_p = protein*4;\r\n        var cal_c = carbo*4;\r\n        var cal_f = fat*9;\r\n\r\n\r\n         var calculate=eval(cal_c + cal_p + cal_f);\r\n         document.getElementById(\"cal\").setAttribute('value',calculate);\r\n         this.setState({calories:calculate});\r\n    }\r\n\r\n\r\n    onSubmit(e) {\r\n      e.preventDefault();\r\n\r\n\r\n\r\n      const data = {\r\n        protein:this.state.protein,\r\n        carbo:this.state.carbo,\r\n        fat:this.state.fat,\r\n        calculate:this.state.calories,\r\n        inName:this.state.inName,\r\n        currentDate:this.state.currentDate\r\n\r\n\r\n      }\r\n\r\n      console.log(data);\r\n\r\n      const encodeForm = (data) => {\r\n        return Object.keys(data)\r\n            .map(key => encodeURIComponent(key) + '=' + encodeURIComponent(data[key]))\r\n            .join('&');\r\n      }\r\n\r\n      axios.post('http://localhost:8080/save', encodeForm(data), {credentials: 'include'})\r\n          .then(function (response) {\r\n              console.log(response);\r\n              if (response.status === 200)\r\n              {\r\n              //alert(\"Successfully Login\")\r\n              swal({\r\n                title: \"INPUT Successfull!\",\r\n                text: \"     \",\r\n                icon: \"success\",\r\n                timer: 2000,\r\n                button: false\r\n              })\r\n              .then(function(){\r\n                //window.location.href = \"/mys\"\r\n                //sessionStorage.setItem('usertoken',response.data)\r\n              })\r\n              }\r\n              else\r\n              {\r\n                // alert(\"Password incorrect\")\r\n                swal({\r\n                  title: \"Input failed\",\r\n                  text: \"Please restart session\",\r\n                  icon: \"error\",\r\n                  timer: 2000,\r\n                  button: false\r\n                })\r\n              }\r\n\r\n          })\r\n\r\n          .catch(function (error) {\r\n              console.log(error);\r\n              swal({\r\n                title: \"Input invalid\",\r\n                text: \"Please restart session\",\r\n                icon: \"error\",\r\n                timer: 2000,\r\n                button: false\r\n              })\r\n      });\r\n\r\n\r\n    }\r\n\r\n    render()\r\n    {\r\n\r\n\r\n       if(this.state.loggedIn===false){\r\n         return<Redirect to=\"/\"/>\r\n       }\r\n      return(\r\n        <Container text>\r\n          <div class=\"form-out-box\">\r\n              <div>\r\n               <Segment>\r\n                <div class=\"title\">\r\n                   <div class=\"ui medium header\">Add new intake data:</div>\r\n                </div>\r\n\r\n               <div class=\"chart_form\">\r\n               <div>\r\n                 <Form className=\"form\" method=\"post\" onSubmit={this.onSubmit} action=\"http://localhost:4000/save\">\r\n                 <div class = \"field\">\r\n                  <Form.Input label='Intake NickName' type=\"text\" name=\"inName\" id=\"inName\" value={this.state.inName} onChange={this.onChangeinName} required/>\r\n                  <Form.Input label='DATE' type=\"text\" type=\"\" id=\"date1\" name=\"\"required value={this.state.currentDate}/>\r\n                  </div>\r\n                  <div class=\"field\">\r\n                    <div class='pcf'>\r\n                      <div>\r\n                       <Form.Input label=\"Protein\" type=\"text\" name=\"protein\" id=\"protein\" value={this.state.protein} onChange={this.onChangeP} required/>\r\n                       </div>\r\n\r\n                       <div>\r\n                       <Form.Input label=\"Carbohydrate\" type=\"text\" name=\"carbohydrate\" id=\"carbo\" value={this.state.carbo} onChange={this.onChangeC} required/>\r\n                       </div>\r\n\r\n                       <div>\r\n                       <Form.Input label=\"Fats\"type=\"text\" name=\"fat\" id=\"fat\" value={this.state.fat} onChange={this.onChangeF} required/>\r\n                       </div>\r\n                    </div>\r\n\r\n                     <div>\r\n                     <Form.Input label=\"Calorie Intake\" type=\"text\" name=\"calories\" id=\"cal\" value={this.state.calories}/>\r\n                     <Form.Input label='Search date' type=\"date\" type=\"\" id=\"dateIn\" name=\"\" required/>\r\n                     <Button type='button' onClick={this.onCalculate} color='black'>Calculate</Button>\r\n                     <Button type='button' onClick={this.onsearchdate} color='black'>SEARCH BY DATE</Button>\r\n                     </div>\r\n\r\n                     </div>\r\n\r\n                      <div className=\"form_button\">\r\n                      <Button type='submit' color='black'>Submit</Button>\r\n                      </div>\r\n\r\n                      </Form>\r\n\r\n                    </div>\r\n                    <Segment>\r\n                    <div className=\"pie\">\r\n                      {/* <Doughnut\r\n                       data={status}\r\n                       options={{\r\n                         title:{\r\n                         display:true,\r\n                         text:'Tracking',\r\n                         fontSize:20\r\n                               },\r\n                          legend:{\r\n                        display:true,\r\n                         position:'right'\r\n                        }\r\n                        }}\r\n                      />  */}\r\n\r\n                        <MyResponsivePie/>\r\n\r\n                      </div>\r\n                    </Segment>\r\n\r\n                  </div>\r\n\r\n                </Segment>\r\n              </div>\r\n\r\n            </div>\r\n          </Container>\r\n        );\r\n      }\r\n    }\r\n"]},"metadata":{},"sourceType":"module"}